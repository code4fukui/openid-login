<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width">
<h1>login test for GitHub</h1>
<a href="https://github.com/login/oauth/authorize?client_id=ac0f8e75b3dd97527c41&scope=">GitHubでログイン</a><br>
<div id=div_access_token></div>
<textarea id=ta style="width:80vw;height:20em;"></textarea>

<script type="module">
import { GitHub } from "https://code4fukui.github.io/GitHub/GitHub.js";

onload = async () => {
  const accessToken = localStorage.getItem("accessToken");
  div_access_token.textContent = accessToken;

  if (accessToken) {
    const github = new GitHub(accessToken);
    const user = await github.getUser();
    ta.value = JSON.stringify(user, null, 2);
  }
};
</script>
</body></html>
